<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CÃ­rculo de InvocaciÃ³n Chibi</title>

<style>
body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(135deg, #ffe0f7, #d7e7ff);
    margin: 0;
    padding: 20px;
    text-align: center;
    color: #5a4a70;
}

/* TÃ­tulo */
h1 {
    font-size: 2.5em;
    color: #ff78c4;
    text-shadow: 0 0 10px #fff;
}

/* Input */
textarea {
    width: 80%;
    height: 120px;
    padding: 12px;
    border-radius: 15px;
    border: none;
    outline: none;
    box-shadow: 0 0 12px #ffbde7;
    margin-bottom: 15px;
    font-size: 1em;
}

/* Botones */
button {
    padding: 14px 30px;
    margin: 10px;
    border: none;
    border-radius: 25px;
    background: #ff90da;
    color: white;
    font-size: 1.1em;
    cursor: pointer;
    box-shadow: 0 0 15px #ffb7e8;
    transition: 0.2s;
}
button:hover {
    transform: scale(1.09);
    background: #ff6fd0;
}

/* Contenedor del cÃ­rculo */
#circleContainer {
    position: relative;
    width: 350px;
    height: 350px;
    margin: 40px auto;
}

/* El cÃ­rculo mÃ¡gico */
#circle {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 6px dashed #ffb9f1;
    box-shadow: 0 0 25px #ffb4f5;
    animation: rotateCircle 12s linear infinite;
}
@keyframes rotateCircle {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Burbujas con nombres */
.bubble {
    position: absolute;
    padding: 10px 18px;
    background: white;
    border-radius: 20px;
    box-shadow: 0 0 10px #ffcdf2;
    font-weight: bold;
    color: #714996;
    animation: floaty 2s ease-in-out infinite;
    transition: 0.3s;
}
@keyframes floaty {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-12px); }
    100% { transform: translateY(0px); }
}

/* Efecto seleccionado */
.selected {
    background: #ffd1f7;
    box-shadow: 0 0 20px #ff9ff0;
    transform: scale(1.2) rotate(3deg);
}

/* Rayo de invocaciÃ³n */
#beam {
    position: absolute;
    top: -20px;
    left: 50%;
    width: 6px;
    height: 0px;
    background: linear-gradient(180deg, #ffb8f9, transparent);
    transform: translateX(-50%);
    transition: height 0.3s ease-out;
    pointer-events: none;
    opacity: 0;
}
</style>
</head>
<body>

<h1>ðŸŒ¸ CÃ­rculo de InvocaciÃ³n Chibi ðŸŒ¸</h1>

<p>Escribe los nombres (uno por lÃ­nea):</p>
<textarea id="inputNames"></textarea><br>

<button onclick="crearBurbujas()">âœ¨ Cargar nombres</button>
<button onclick="invocar()">ðŸ’– Invocar al azar</button>

<div id="circleContainer">
    <div id="circle"></div>
    <div id="beam"></div>
</div>

<h2 id="resultado"></h2>

<script>
let nombres = [];

function crearBurbujas() {
    const entrada = document.getElementById("inputNames").value.trim();
    nombres = entrada.split("\n").map(n => n.trim()).filter(n => n);

    const container = document.getElementById("circleContainer");
    
    // elimina viejas burbujas
    document.querySelectorAll(".bubble").forEach(b => b.remove());

    if (nombres.length === 0) {
        alert("Necesitas escribir al menos un nombre ðŸŒ¸");
        return;
    }

    const radius = 140; // radio del cÃ­rculo
    const cx = 175, cy = 175; // centro

    nombres.forEach((name, i) => {
        const angle = (i / nombres.length) * (2 * Math.PI);
        const x = cx + radius * Math.cos(angle);
        const y = cy + radius * Math.sin(angle);

        const bubble = document.createElement("div");
        bubble.className = "bubble";
        bubble.textContent = name;
        bubble.style.left = `${x - 25}px`;
        bubble.style.top = `${y - 15}px`;

        container.appendChild(bubble);
    });

    document.getElementById("resultado").textContent = "";
}

function invocar() {
    if (nombres.length === 0) {
        document.getElementById("resultado").textContent = "ðŸŽ‰ Â¡Todos han sido invocados!";
        return;
    }

    const bubbles = [...document.querySelectorAll(".bubble")];
    const elegido = bubbles[Math.floor(Math.random() * bubbles.length)];

    // efecto destacado
    elegido.classList.add("selected");

    // rayo cute
    const beam = document.getElementById("beam");
    beam.style.opacity = 1;
    beam.style.height = "180px";
    
    setTimeout(() => {
        // remover nombre de la lista y de la interfaz
        nombres = nombres.filter(n => n !== elegido.textContent);
        elegido.remove();

        beam.style.height = "0px";
        beam.style.opacity = 0;

        document.getElementById("resultado").textContent =
            `âœ¨ Invocad@ â†’ ${elegido.textContent} âœ¨`;

    }, 800);
}
</script>

</body>
</html>
